
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>ploomber.tasks.NotebookRunner &#8212; ploomber 0.19.6 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom-theme.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/mermaid-style.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/mermaid-layout.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/js/custom.js"></script>
    <script src="../_static/js/mermaid.min.js"></script>
    <script src="../_static/js/terminal.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
 

<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<style>
    body {
        padding-top: 5rem;
    }

    /* make all images responsive (same as .img-fluid) */
    img {
        max-width: 100%;
        height: auto;
    }
</style>

<!-- Algolia -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
</pre>
</link>

<!-- Below script for subscribe button in videos page-->
<script src="https://apis.google.com/js/platform.js"></script>
<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<!-- jQuery is loaded by sphinx anyway -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>




  </head><body>



<nav class="navbar navbar-expand-md navbar-dark fixed-top">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#first-column"
        aria-controls="first-column" aria-expanded="false" aria-label="Toggle TOC">
        <span class="navbar-toggler-icon"></span>
    </button>

    <a class="navbar-brand" href="../index.html">Ploomber</a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#top-bar" aria-controls="top-bar"
        aria-expanded="false" aria-label="Toggle navigation">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-search"
            viewBox="0 0 16 16">
            <path
                d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
        </svg>
    </button>

    <div class="collapse navbar-collapse" id="top-bar">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item  active ">
                <a class="nav-link" href="../index.html">Documentation
                </a>
            </li>
            <li class="nav-item ">
                <a class="nav-link" href="../cloud/cloud-execution.html">Cloud
                </a>
            </li>
            <li class="nav-item ">
                <a class="nav-link" href="../videos.html">Videos</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="https://github.com/ploomber/ploomber">GitHub</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="https://ploomber.io/community">Community</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="https://www.getrevue.co/profile/ploomber">Newsletter</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="https://ploomber.io">Blog</a>
            </li>
        </ul>

        <!-- By default any child element that uses Bootstrap nav class falls under display flex! -->
        <div class="flex-md-shrink-0" id="search">
            <!-- flex-md-shrink-0 is a responsive class inside boostrap flex class that shrinks elements as the width decreases!-->
            <form class="search form-inline my-2 my-lg-0" action="../search.html" method="get">
                <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search" name="q">
                <button class="btn btn-secondary my-2 my-sm-0" type="submit">Search</button>
            </form>
        </div>

    </div>
</nav>



<div class="container-fluid">
    <div class="row">
        <div class="col-md-3 col-xl-2 first-column collapse" id="first-column">
            

<div class="global-toc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../get-started/index.html">Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../use-cases/index.html">Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cloud/index.html">Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment/index.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/index.html">Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/index.html">Community</a></li>
</ul>
</div>

            <div class="help-tooltip">
                <p>Something not working? <a
                        href="https://github.com/ploomber/ploomber/issues/new?body=Documentation+page%3A+api%2Fploomber.tasks.NotebookRunner"
                        target="_blank" rel="noreferrer">Open an issue on
                        GitHub</a> or <a href="https://ploomber.io/community" target="_blank" rel="noreferrer">message
                        us on Slack.</a></p>
            </div>
        </div>
        <div class="col-md-9 col-xl-8">
            <div class="document">
                <div class="documentwrapper">
                    <div class="bodywrapper">
                        <div class="body" role="main">
                            
  <section id="ploomber-tasks-notebookrunner">
<h1>ploomber.tasks.NotebookRunner<a class="headerlink" href="#ploomber-tasks-notebookrunner" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="ploomber.tasks.NotebookRunner">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ploomber.tasks.</span></span><span class="sig-name descname"><span class="pre">NotebookRunner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">product</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">papermill_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernelspec_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbconvert_exporter_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_product_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nb'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">static_analysis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'regular'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbconvert_export_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_execution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_if_kernel_installed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ploomber.tasks.NotebookRunner" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a Jupyter notebook using papermill. Support several input formats
via jupytext and several output formats via nbconvert</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>str</em><em> or </em><em>pathlib.Path</em>) – Notebook source, if str, the content is interpreted as the actual
notebook, if pathlib.Path, the content of the file is loaded. When
loading from a str, ext_in must be passed</p></li>
<li><p><strong>product</strong> (<em>ploomber.File</em>) – The output file</p></li>
<li><p><strong>dag</strong> (<a class="reference internal" href="_modules/root/ploomber.DAG.html#ploomber.DAG" title="ploomber.DAG"><em>ploomber.DAG</em></a>) – A DAG to add this task to</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – A str to indentify this task. Should not already exist in the dag</p></li>
<li><p><strong>params</strong> (<em>dict</em><em>, </em><em>optional</em>) – Notebook parameters. This are passed as the “parameters” argument
to the papermill.execute_notebook function, by default, “product”
and “upstream” are included</p></li>
<li><p><strong>papermill_params</strong> (<em>dict</em><em>, </em><em>optional</em>) – Other parameters passed to papermill.execute_notebook, defaults to None</p></li>
<li><p><strong>kernelspec_name</strong> (<em>str</em><em>, </em><em>optional</em>) – Kernelspec name to use, if the file extension provides with enough
information to choose a kernel or the notebook already includes
kernelspec data (in metadata.kernelspec), this is ignored, otherwise,
the kernel is looked up using jupyter_client.kernelspec.get_kernel_spec</p></li>
<li><p><strong>nbconvert_exporter_name</strong> (<em>str</em><em> or </em><em>dict</em><em>, </em><em>optional</em>) – Once the notebook is run, this parameter controls whether to export
the notebook to a different parameter using the nbconvert package,
it is not needed unless the extension cannot be used to infer the
final output format, in which case the nbconvert.get_exporter is used.
If nb_product_key is a list of multiple nb products keys,
nbconvert_exporter_name should be a dict containing keys from this
list.</p></li>
<li><p><strong>ext_in</strong> (<em>str</em><em>, </em><em>optional</em>) – Source extension. Required if loading from a str. If source is a
<code class="docutils literal notranslate"><span class="pre">pathlib.Path</span></code>, the extension from the file is used.</p></li>
<li><p><strong>nb_product_key</strong> (<em>str</em><em> or </em><em>list</em><em>, </em><em>optional</em>) – If the notebook is expected to generate other products, pass the key
to identify the output notebook (i.e. if product is a list with 3
ploomber.File, pass the index pointing to the notebook path). If the
only output is the notebook itself, this parameter is not needed
If multiple notebook conversions are required like html, pdf, this
parameter should be a list of keys like ‘nb_ipynb’, ‘nb_html, ‘nb_pdf’.</p></li>
<li><p><strong>static_analysis</strong> (<em>(</em><em>'disabled'</em><em>, </em><em>'regular'</em><em>, </em><em>'strict'</em><em>)</em><em>, </em><em>default='regular'</em>) – Check for various errors in the notebook. In ‘regular’ mode, it aborts
execution if the notebook has syntax issues, or similar problems that
would cause the code to break if executed. In ‘strict’ mode, it
performs the same checks but raises an isse before starting execution
of any task, furthermore, it verifies that the parameters cell and
the params passed to the notebook match, thus, making the notebook
behave like a function with a signature.</p></li>
<li><p><strong>nbconvert_export_kwargs</strong> (<em>dict</em>) – Keyword arguments to pass to the <code class="docutils literal notranslate"><span class="pre">nbconvert.export</span></code> function (this is
only used if exporting the output ipynb notebook to another format).
You can use this, for example, to hide code cells using the
exclude_input parameter. See <code class="docutils literal notranslate"><span class="pre">nbconvert</span></code> documentation for details.
Ignored if the product is file with .ipynb extension.</p></li>
<li><p><strong>local_execution</strong> (<em>bool</em><em>, </em><em>optional</em>) – Change working directory to be the parent of the notebook’s source.
Defaults to False. This resembles the default behavior when
running notebooks interactively via <cite>jupyter notebook</cite></p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Spec API:</p>
<div class="text-editor highlight-yaml notranslate" id="pipeline-yaml"><div class="highlight"><pre><span></span><span class="nt">tasks</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb.ipynb</span><span class="w"></span>
<span class="w">    </span><span class="nt">product</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">report.html</span><span class="w"></span>
</pre></div>
</div>
<p>Spec API (multiple outputs):</p>
<div class="text-editor highlight-yaml notranslate" id="id1"><div class="highlight"><pre><span></span><span class="nt">tasks</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb.ipynb</span><span class="w"></span>
<span class="w">    </span><span class="nt">product</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="c1"># generated automatically by ploomber</span><span class="w"></span>
<span class="w">        </span><span class="nt">nb</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">report.html</span><span class="w"></span>
<span class="w">        </span><span class="c1"># must be generated by nb.ipynb</span><span class="w"></span>
<span class="w">        </span><span class="nt">data</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data.csv</span><span class="w"></span>
</pre></div>
</div>
<p>Spec API (multiple notebook products, added in <code class="docutils literal notranslate"><span class="pre">0.19.6</span></code>):</p>
<p>(generate the executed notebooks in multiple formats)</p>
<div class="text-editor highlight-yaml notranslate" id="id2"><div class="highlight"><pre><span></span><span class="nt">tasks</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">script.py</span><span class="w"></span>
<span class="w">    </span><span class="c1"># keys can be named as per user&#39;s choice. None</span><span class="w"></span>
<span class="w">    </span><span class="c1"># of the keys are mandatory. However, every key mentioned</span><span class="w"></span>
<span class="w">    </span><span class="c1"># in this list should be a part of the product dict below.</span><span class="w"></span>
<span class="w">    </span><span class="nt">nb_product_key</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">nb_ipynb</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">nb_pdf</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">nb_html</span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="c1"># When nb_product_key is a list, nbconvert_exporter_name</span><span class="w"></span>
<span class="w">    </span><span class="c1"># should be a dict with required keys from nb_product_key</span><span class="w"></span>
<span class="w">    </span><span class="c1"># only. If missing, it uses the default exporter</span><span class="w"></span>
<span class="w">    </span><span class="nt">nbconvert_exporter_name</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">nb_pdf</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">webpdf</span><span class="w"></span>
<span class="w">    </span><span class="c1"># Every notebook product defined here should correspond to key</span><span class="w"></span>
<span class="w">    </span><span class="c1"># defined in nb_product_key.</span><span class="w"></span>
<span class="w">    </span><span class="nt">product</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">nb_ipynb</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb.ipynb</span><span class="w"></span>
<span class="w">        </span><span class="nt">nb_pdf</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">doc.pdf</span><span class="w"></span>
<span class="w">        </span><span class="nt">nb_html</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">report.html</span><span class="w"></span>
<span class="w">        </span><span class="c1"># must be generated by nb.ipynb</span><span class="w"></span>
<span class="w">        </span><span class="nt">data</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data.csv</span><span class="w"></span>
</pre></div>
</div>
<p>Python API:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ploomber</span> <span class="kn">import</span> <span class="n">DAG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ploomber.tasks</span> <span class="kn">import</span> <span class="n">NotebookRunner</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ploomber.products</span> <span class="kn">import</span> <span class="n">File</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dag</span> <span class="o">=</span> <span class="n">DAG</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">NotebookRunner</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;nb.ipynb&#39;</span><span class="p">),</span> <span class="n">File</span><span class="p">(</span><span class="s1">&#39;report.html&#39;</span><span class="p">),</span> <span class="n">dag</span><span class="o">=</span><span class="n">dag</span><span class="p">)</span>
<span class="go">NotebookRunner: nb -&gt; File(&#39;report.html&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dag</span><span class="o">.</span><span class="n">build</span><span class="p">()</span> 
</pre></div>
</div>
<p>Python API (customize output notebook):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ploomber</span> <span class="kn">import</span> <span class="n">DAG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ploomber.tasks</span> <span class="kn">import</span> <span class="n">NotebookRunner</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ploomber.products</span> <span class="kn">import</span> <span class="n">File</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dag</span> <span class="o">=</span> <span class="n">DAG</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># do not include input code (only cell&#39;s output)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">NotebookRunner</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;nb.ipynb&#39;</span><span class="p">),</span> <span class="n">File</span><span class="p">(</span><span class="s1">&#39;out-1.html&#39;</span><span class="p">),</span> <span class="n">dag</span><span class="o">=</span><span class="n">dag</span><span class="p">,</span>
<span class="gp">... </span>               <span class="n">nbconvert_export_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;exclude_input&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
<span class="gp">... </span>               <span class="n">name</span><span class="o">=</span><span class="s1">&#39;one&#39;</span><span class="p">)</span>
<span class="go">NotebookRunner: one -&gt; File(&#39;out-1.html&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Selectively remove cells with the tag &quot;remove&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;TagRemovePreprocessor&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;remove_cell_tags&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;remove&#39;</span><span class="p">,)},</span>
<span class="gp">... </span>       <span class="s1">&#39;HTMLExporter&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="p">{</span><span class="s1">&#39;preprocessors&#39;</span><span class="p">:</span>
<span class="gp">... </span>   <span class="p">[</span><span class="s1">&#39;nbconvert.preprocessors.TagRemovePreprocessor&#39;</span><span class="p">]}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">NotebookRunner</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;nb.ipynb&#39;</span><span class="p">),</span> <span class="n">File</span><span class="p">(</span><span class="s1">&#39;out-2.html&#39;</span><span class="p">),</span> <span class="n">dag</span><span class="o">=</span><span class="n">dag</span><span class="p">,</span>
<span class="gp">... </span>               <span class="n">nbconvert_export_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;config&#39;</span><span class="p">:</span> <span class="n">config</span><span class="p">},</span>
<span class="gp">... </span>               <span class="n">name</span><span class="o">=</span><span class="s1">&#39;another&#39;</span><span class="p">)</span>
<span class="go">NotebookRunner: another -&gt; File(&#39;out-2.html&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dag</span><span class="o">.</span><span class="n">build</span><span class="p">()</span> 
</pre></div>
</div>
<p class="rubric">Notes</p>
<details class="summary-changelog">
<summary>changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.19.6: </span>Support for generating output notebooks in multiple formats, see
example above</p>
</div>
</details><p><a class="reference external" href="https://nbconvert.readthedocs.io/en/latest/config_options.html#preprocessor-options">nbconvert’s documentation</a> # noqa</p>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#ploomber.tasks.NotebookRunner.build" title="ploomber.tasks.NotebookRunner.build"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build</span></code></a>([force, catch_exceptions])</p></td>
<td><p>Build a single task</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ploomber.tasks.NotebookRunner.debug" title="ploomber.tasks.NotebookRunner.debug"><code class="xref py py-obj docutils literal notranslate"><span class="pre">debug</span></code></a>([kind])</p></td>
<td><p>Opens the notebook (with injected parameters) in debug mode in a temporary location</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ploomber.tasks.NotebookRunner.develop" title="ploomber.tasks.NotebookRunner.develop"><code class="xref py py-obj docutils literal notranslate"><span class="pre">develop</span></code></a>([app, args])</p></td>
<td><p>Opens the rendered notebook (with injected parameters) and adds a &quot;debugging-settings&quot; cell to the that changes directory to the current active directory.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ploomber.tasks.NotebookRunner.load" title="ploomber.tasks.NotebookRunner.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>([key])</p></td>
<td><p>Load task as pandas.DataFrame.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ploomber.tasks.NotebookRunner.render" title="ploomber.tasks.NotebookRunner.render"><code class="xref py py-obj docutils literal notranslate"><span class="pre">render</span></code></a>([force, outdated_by_code, remote])</p></td>
<td><p>Renders code and product, all upstream tasks must have been rendered first, for that reason, this method will usually not be called directly but via DAG.render(), which renders in the right order.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ploomber.tasks.NotebookRunner.run" title="ploomber.tasks.NotebookRunner.run"><code class="xref py py-obj docutils literal notranslate"><span class="pre">run</span></code></a>()</p></td>
<td><p>This is the only required method Task subclasses must implement</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ploomber.tasks.NotebookRunner.set_upstream" title="ploomber.tasks.NotebookRunner.set_upstream"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_upstream</span></code></a>(other[, group_name])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ploomber.tasks.NotebookRunner.status" title="ploomber.tasks.NotebookRunner.status"><code class="xref py py-obj docutils literal notranslate"><span class="pre">status</span></code></a>([return_code_diff, sections])</p></td>
<td><p>Prints the current task status</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="ploomber.tasks.NotebookRunner.build">
<span class="sig-name descname"><span class="pre">build</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catch_exceptions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ploomber.tasks.NotebookRunner.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a single task</p>
<p>Although Tasks are primarily designed to execute via DAG.build(), it
is possible to do so in isolation. However, this only works if the
task does not have any unrendered upstream dependencies, if that’s the
case, you should call DAG.render() before calling Task.build()</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary with keys ‘run’ and ‘elapsed’</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TaskBuildError</strong> – If the error failed to build because it has upstream dependencies,
    the build itself failed or build succeded but on_finish hook failed</p></li>
<li><p><strong>DAGBuildEarlyStop</strong> – If any task or on_finish hook raises a DAGBuildEarlyStop error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ploomber.tasks.NotebookRunner.debug">
<span class="sig-name descname"><span class="pre">debug</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ipdb'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ploomber.tasks.NotebookRunner.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens the notebook (with injected parameters) in debug mode in a
temporary location</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kind</strong> (<em>str</em><em>, </em><em>default='ipdb'</em>) – Debugger to use, ‘ipdb’ to use line-by-line IPython debugger,
‘pdb’ to use line-by-line Python debugger or ‘pm’ to to
post-portem debugging using IPython</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Be careful when debugging tasks. If the task has run
successfully, you overwrite products but don’t save the
updated source code, your DAG will enter an inconsistent state where
the metadata won’t match the overwritten product.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ploomber.tasks.NotebookRunner.develop">
<span class="sig-name descname"><span class="pre">develop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'notebook'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ploomber.tasks.NotebookRunner.develop" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens the rendered notebook (with injected parameters) and adds a
“debugging-settings” cell to the that changes directory to the current
active directory. This will reflect conditions when callign
<cite>DAG.build()</cite>. This modified notebook is saved in the same location as
the source with a “-tmp” added to the filename. Changes to this
notebook can be exported to the original notebook after the notebook
process is shut down. The “injected-parameters” and
“debugging-settings” cells are deleted before saving.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>app</strong> (<em>{'notebook'</em><em>, </em><em>'lab'}</em><em>, </em><em>default: 'notebook'</em>) – Which Jupyter application to use</p></li>
<li><p><strong>args</strong> (<em>str</em>) – Extra parameters passed to the jupyter application</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Be careful when developing tasks interacively. If the task has run
successfully, you overwrite products but don’t save the
updated source code, your DAG will enter an inconsistent state where
the metadata won’t match the overwritten product.</p>
<p>If you modify the source code and call develop again, the source
code will be updated only if the <code class="docutils literal notranslate"><span class="pre">hot_reload</span> <span class="pre">option</span></code> is turned on.
See <a class="reference internal" href="_modules/root/ploomber.DAGConfigurator.html#ploomber.DAGConfigurator" title="ploomber.DAGConfigurator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ploomber.DAGConfigurator</span></code></a> for details.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ploomber.tasks.NotebookRunner.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ploomber.tasks.NotebookRunner.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load task as pandas.DataFrame. Only implemented in certain tasks</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ploomber.tasks.NotebookRunner.render">
<span class="sig-name descname"><span class="pre">render</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdated_by_code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ploomber.tasks.NotebookRunner.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders code and product, all upstream tasks must have been rendered
first, for that reason, this method will usually not be called
directly but via DAG.render(), which renders in the right order.</p>
<p>Render fully determines whether a task should run or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>force</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If True, mark status as WaitingExecution/WaitingUpstream even if
the task is up-to-date (if there are any File(s) with clients, this
also ignores the status of the remote copy), otherwise, the normal
process follows and only up-to-date tasks are marked as Skipped.</p></li>
<li><p><strong>outdated_by_code</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Factors to determine if Task.product is marked outdated when source
code changes. Otherwise just the upstream timestamps are used.</p></li>
<li><p><strong>remote</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Use remote metadata to determine status</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method tries to avoid calls to check for product status whenever
possible, since checking product’s metadata can be a slow operation
(e.g. if metadata is stored in a remote database)</p>
<p>When passing force=True, product’s status checking is skipped
altogether, this can be useful when we only want to quickly get
a rendered DAG object to interact with it</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ploomber.tasks.NotebookRunner.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ploomber.tasks.NotebookRunner.run" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the only required method Task subclasses must implement</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ploomber.tasks.NotebookRunner.set_upstream">
<span class="sig-name descname"><span class="pre">set_upstream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ploomber.tasks.NotebookRunner.set_upstream" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ploomber.tasks.NotebookRunner.status">
<span class="sig-name descname"><span class="pre">status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">return_code_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sections</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ploomber.tasks.NotebookRunner.status" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the current task status</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sections</strong> (<em>list</em><em>, </em><em>optional</em>) – Sections to include. Defaults to “name”, “last_run”,
“oudated”, “product”, “doc”, “location”</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Attributes</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">PRODUCT_CLASSES_ALLOWED</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">client</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">exec_status</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">name</span></code></p></td>
<td><p>A str that represents the name of the task, you can access tasks in a dag using dag['some_name']</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">on_failure</span></code></p></td>
<td><p>Callable to be executed if task fails (passes Task as first parameter and the exception as second parameter)</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">on_finish</span></code></p></td>
<td><p>Callable to be executed after this task is built successfully (passes Task as first parameter)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">on_render</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">params</span></code></p></td>
<td><p>dict that holds the parameter that will be passed to the task upon execution.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">product</span></code></p></td>
<td><p>The product this task will create upon execution</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">source</span></code></p></td>
<td><p>Source is used by the task to compute its output, for most cases this is source code, for example PythonCallable takes a function as source and SQLScript takes a string with SQL code as source.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">static_analysis</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">upstream</span></code></p></td>
<td><p>A mapping for upstream dependencies {task name} -&gt; [task object]</p></td>
</tr>
</tbody>
</table>
</dd></dl>

</section>


                            <div class="clearer"></div>
                        </div>
                    </div>
                </div>
                <div class="clearer"></div>
            </div>
        </div>
        <div class="d-none d-xl-block col-xl-2 third-column">
            
<div class="sphinxsidebar" role="navigation" aria-label="main navigation">
    <div class="sphinxsidebarwrapper">
    </div>
</div>
        </div>
    </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>

<script type="text/javascript">
    docsearch({
        appId: 'Y6L7HQ2HZO',
        apiKey: 'a44b754f3d890a27dcbd9b4f860fea6b',
        indexName: 'ploomber',
        container: '#search',
        debug: false

    });
</script>
<div class="footer" role="contentinfo">
</div>
  </body>
</html>